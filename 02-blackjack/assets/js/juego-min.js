const miModulo=(()=>{"use strict";let e=[],f=[],g=["C","D","H","S"],h=["A","J","Q","K"],a=document.querySelector("#btnPedir"),b=document.querySelector("#btnNuevo"),c=document.querySelector("#btnDetener"),i=document.querySelectorAll(".divCartas"),j=document.querySelectorAll("small"),k=document.querySelector("#mensaje"),l=document.createElement("p"),d=(d=2)=>{m(),f=[];for(let b=0;b<d;b++)f.push(0);l.classList.remove("perdiste","empate","ganaste"),l.remove(),j.forEach(a=>{a.innerText=0}),i.forEach(a=>{a.innerHTML=""}),a.disabled=!1,c.disabled=!1},m=()=>{e=[];for(let a=2;a<=10;a++)for(let b of g)e.push(a+b);for(let c of g)for(let d of h)e.push(d+c);return e=_.shuffle(e)},n=()=>(0===e.length&&r("No hay cartas en deck","perdiste"),e.pop()),o=b=>{let a=b.substring(0,b.length-1);return isNaN(a)?"A"===a?11:10:1*a},p=(a,b)=>(f[a]=f[a]+o(b),j[a].innerText=f[a],f[a]),q=(c,b)=>{let a=document.createElement("img");a.classList.add("carta"),a.alt=`carta ${b}`,a.src=`./assets/cartas/${b}.png`,i[c].append(a)},r=(a,b,c="test")=>{l.innerText=a,l.classList.add(b,c),k.append(l)},s=()=>{let[a,b]=f;setTimeout(()=>{b===a?r("Empate","perdiste","empate"):a>21?r("Gana la computadora :)","perdiste"):b>21?(r("Ganaste :)","perdiste","ganaste"),21===a&&r("Ya tienes 21 puntos y ganaste :)","ganaste","perdiste")):r("Gana la computadora :)","perdiste")},10)},t=a=>{let b=0;do{let c=n();b=p(f.length-1,c),q(f.length-1,c)}while(b<a&&a<=21)s()};return a.addEventListener("click",()=>{let d=n(),b=p(0,d);q(0,d),b>21?(a.disabled=!0,c.disabled=!0,t(b)):21===b&&(a.disabled=!0,c.disabled=!0,t(b))}),c.addEventListener("click",()=>{a.disabled=!0,c.disabled=!0,t(f[0])}),b.addEventListener("click",()=>{d()}),{nuevoJuego:d}})()